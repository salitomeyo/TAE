---
title: "Prediciendo el número de hijos"
author: "Juan Esteban Sanchez pulgarin - 1000538867"
date: "21/3/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Sobre los integrantes de la vivienda

## Caracteristicas y composicion del hogar

Lectura de las bases de datos

```{r}
Caracteristicas_hogar_personas <- read.table("Caracteristicas y composicion del hogar.csv", sep = ";", header = T)
```


```{r}
  Caracteristicas_hogar_personas<-Caracteristicas_hogar_personas[,c("ï..DIRECTORIO","SECUENCIA_P","ORDEN","P6020", "P6040","P6051", "P5502", "P6071", "P756","P6081", "P6087","P6083","P6088","P6080")]
```

```{r}
head(Caracteristicas_hogar_personas)
```

###Hijos

Filtramos a los hijos si tienen una relacion de hijo/hija o nieto/nieta con el jefe y contamos al numero de hijos por hogar, los hogares se describen con el codigo unico de ï..DIRECTORIO, SECUENCIA_P

```{r}
require(dplyr)

num_hijos <- Caracteristicas_hogar_personas %>%
  filter(P6051 == 3 | P6051 == 4) %>%
  group_by(ï..DIRECTORIO, SECUENCIA_P) %>%
  count(SECUENCIA_P)
```

```{r}
num_hijos
```

Filtramos a los hijos si tienen una relacion de hijo/hija o nieto/nieta con el jefe y guardamos el codigo unico de cada una de las recurrencias que se identifican como hijos, el codigo unico de los hijos se describe como ï..DIRECTORIO, SECUENCIA_P, ORDEN

Nota: Usar si se requiere informacion de los hijos, por ejemplo si se utilizara la variable edad
```{r}
#require(dplyr)

#hijos <- Caracteristicas_hogar_personas %>%
#  filter(P6051 == 3 | P6051 == 4) %>%
#  group_by(ï..DIRECTORIO, SECUENCIA_P, ORDEN) %>%
#  count(SECUENCIA_P)
```

```{r}
#hijos
```

###Jefes de hogar

Se guarda el codigo unico que identifica a los jefes de cada hogar, se pudo apreciar que los jefes siempre poseen un 1 en el orden, (este valor es invariable por lo que sabemos que si se habla de un individuo de orden 1 se trata de un jefe de hogar), el codigo unico de los jefes es tomado como ï..DIRECTORIO, SECUENCIA_P, ORDEN

```{r}
require(dplyr)

jefes <- Caracteristicas_hogar_personas %>%
  filter(P6051 == 1) %>%
  group_by(ï..DIRECTORIO, SECUENCIA_P, ORDEN) %>%
  count(SECUENCIA_P)
```

```{r}
jefes
```
## Educacion

```{r}
Educacion<- read.table("Educacion.csv", sep = ";", header = T)
```

```{r}
Educacion<-Educacion[,c("ï..DIRECTORIO","SECUENCIA_P","ORDEN","P8587","P8586")]
```

```{r}
head(Educacion)
```
## Salud

```{r}
Salud<- read.table("Salud.csv", sep = ";", header = T)
```

```{r}
Salud<-Salud[,c("ï..DIRECTORIO","SECUENCIA_P","ORDEN","P6090","P1708","P1708S1")]
```

```{r}
head(Salud)
```


# Sobre la vivienda

## Datos de la vivienda

```{r}
Datos_vivienda <- read.table("Datos de la vivienda.csv", sep = ";", header = T)
```

```{r}
Datos_vivienda<-Datos_vivienda[,c("ï..DIRECTORIO","SECUENCIA_P","ORDEN","CANT_HOGARES_VIVIENDA","CANT_HOG_COMPLETOS","P1070","P4015","P8520","P8520S1","P8520S1A1","P8520S5","P8520S3")]
```

```{r}
head(Datos_vivienda)
```

## Servicios del hogar

```{r}
ServiciosDelHogar<- read.table("Servicios del hogar.csv", sep = ";", header = T)
```

```{r}
ServiciosDelHogar<-ServiciosDelHogar[,c("ï..DIRECTORIO","SECUENCIA_P","ORDEN","P5000","I_HOGAR","CANT_PERSONAS_HOGAR")]
```

```{r}
head(ServiciosDelHogar)
```